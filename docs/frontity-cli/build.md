# Build

Builds the project for production.

```text
npx frontity build [options]
```

The [`frontity serve`]() command will use the files generated by this `frontity build` command.

## Arguments

### **`[options]`**

| Option | Description |
| :---: | :--- |
| `-d`, `--development` | Builds the project for development. |
| `--target <target>` | Create bundles with "es5", "module" or "both". Default target is "both". |
| `--publicPath <path>` | Set the [public path](https://webpack.js.org/guides/public-path/) for static assets. Default path is "/static/". |
| `-h`, `--help` | Output usage information |

**Examples**

* Builds the project for production using an external domain `https://external-domain.com/static` as the path for static files

```text
npx frontity build --publicPath="https://external-domain.com/static"
```

#### The `--development` option

This flag correspond to [webpack’s mode parameter](https://webpack.js.org/configuration/mode/) so it will run webpack in the development mode as described [there](https://webpack.js.org/configuration/mode/).

For example, when running react in development mode (when `process.env.NODE_ENV` is set to `development` and NOT to `production`) you get [full error messages and warnings](https://reactjs.org/docs/optimizing-performance.html#use-the-production-build) from React but at the cost of slower performance.

```
npx frontity build --development
```

So, it’s basically the same as just running `frontity dev` except that it will only build the project `once` and will **not run the development server**.

#### The `--publicPath` option

By default Frontity will look for static assets in the path `<YOUR-DOMAIN>/static`

With the `--publicPath` option you can change the path from where you are serving the statics assets (i.e. js chunk files, fonts, images, etc.)

The [public path is included in the generated files by webpack](https://webpack.js.org/guides/public-path/) and cannot be changed after that.

In case some people need to change it (because of constrains in their site architecture) they would need an option to do so just before generating the Frontity bundle with `npx frontity build`.

_Example:_

```text
npx frontity build --publicPath="/other/folder"
```

### Environments variables

The options can also be set via environment variables. If some of these environments variables are detected the proper values will be set for the `build` command

#### `FRONTITY_BUILD_TARGET` 

Equivalent to the `--target <target>` options

_Example:_
```
FRONTITY_BUILD_TARGET=module
FRONTITY_BUILD_TARGET=es
```

#### `FRONTITY_BUILD_DEVELOPMENT` 

Equivalent to the `-d` or `--development` option

_Example:_
```
FRONTITY_BUILD_PRODUCTION=true
```

#### `FRONTITY_BUILD_PUBLIC_PATH` 
Equivalent to the `--publicPath <path>` option

_Example:_
```
FRONTITY_BUILD_PUBLIC_PATH=/assets/
```