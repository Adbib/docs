# Run commands

These commands will allow you to either create a Frontity project or a Frontity package

* [`dev`](#dev)
* [`build`](#build)
* [`serve`](#serve)

{% hint style="info" %}
Have a look at the [environment variables](./environment-variables) page to check which ones can be used with these commands
{% endhint %}

## dev

Starts a development server.

```text
npx frontity dev [options]
```

### Arguments

#### **`[options]`**

| Option | Description |
| :---: | :--- |
| `-p`, `--production` | Builds the project for production. </br> Related environment variable: [`FRONTITY_DEV_PRODUCTION`](./environment-variables#FRONTITY_DEV_PRODUCTION)|
| `--port <port>` | Runs the server on a custom port. Default is 3000. </br> Related environment variable: [`FRONTITY_DEV_PORT`](./environment-variables#FRONTITY_DEV_PORT)|
| `-s`, `--https` | Runs the server using https. </br> Related environment variable: [`FRONTITY_DEV_HTTPS`](./environment-variables#FRONTITY_DEV_HTTPS)|
| `--dont-open-browser` | Don't open a browser window with the localhost. </br> Related environment variable: [`FRONTITY_DEV_DONT_OPEN_BROWSER`](./environment-variables#FRONTITY_DEV_DONT_OPEN_BROWSER) |
| `--target <target>` | Create bundles with "es5", "module" or "both". Default target is "both". </br> Related environment variable: [`FRONTITY_DEV_TARGET`](./environment-variables#FRONTITY_DEV_TARGET)|
| `--publicPath <path>` | Set the [public path](https://webpack.js.org/guides/public-path/) for static assets. Default path is `/static/`. </br> Related environment variable: [`FRONTITY_DEV_PUBLIC_PATH`](./environment-variables#FRONTITY_DEV_PUBLIC_PATH)</br> More details about this option [below](#the-publicpath-option) |
| `-h`, `--help` | Output usage information |

**Examples**

* Starts a server in development mode using https and port 3002

```text
npx frontity dev --https --port 3002
```

* Starts a server in development mode using the folder `assets` as the path for statics

```text
npx frontity dev --publicPath="/assets"
```

##### The `--production` option

This flag correspond to [webpack’s mode parameter](https://webpack.js.org/configuration/mode/) so it will run webpack in the production mode as described [there](https://webpack.js.org/configuration/mode/) before launching the development server.

So, if you do:

```
npx frontity dev --production
```

The webpack bundler internally will do things like..

- Enable certain webpack-specific optimizations and minify the code
- Also disable hot-module reloading (HMR)
- Not create source maps
- Append hashes to filenames so for caching purposes

Normally, you would always use the development server in development mode, but sometimes you may want to check that everything works in production mode, or check the bundle analyzer (the files at `/build/analyze`) for the production bundle.

## `build`

Builds the project for production.

```text
npx frontity build [options]
```

The [`frontity serve`]() command will use the files generated by this `frontity build` command.

### Arguments

#### **`[options]`**

| Option | Description |
| :---: | :--- |
| `-d`, `--development` | Builds the project for development. </br> Related environment variable: [`FRONTITY_BUILD_DEVELOPMENT`](./environment-variables#FRONTITY_BUILD_DEVELOPMENT)|
| `--target <target>` | Create bundles with "es5", "module" or "both". Default target is "both".  </br> Related environment variable: [`FRONTITY_BUILD_TARGET`](./environment-variables#FRONTITY_BUILD_TARGET)
| `--publicPath <path>` | Set the [public path](https://webpack.js.org/guides/public-path/) for static assets. Default path is "/static/". </br> Related environment variable: [`FRONTITY_BUILD_PUBLIC_PATH`](./environment-variables#FRONTITY_BUILD_PUBLIC_PATH)</br> More details about this option [below](#the-publicpath-option) |
| `-h`, `--help` | Output usage information |

**Examples**

* Builds the project for production using an external domain `https://external-domain.com/static` as the path for static files

```text
npx frontity build --publicPath="https://external-domain.com/static"
```

##### The `--development` option

This flag correspond to [webpack’s mode parameter](https://webpack.js.org/configuration/mode/) so it will run webpack in the development mode as described [there](https://webpack.js.org/configuration/mode/).

For example, when running react in development mode (when `process.env.NODE_ENV` is set to `development` and NOT to `production`) you get [full error messages and warnings](https://reactjs.org/docs/optimizing-performance.html#use-the-production-build) from React but at the cost of slower performance.

```
npx frontity build --development
```

So, it’s basically the same as just running `frontity dev` except that it will only build the project `once` and will **not run the development server**.

## Serve

Starts a Frontity server in production mode.

```text
npx frontity serve [options]
```

This `frontity serve` command will use the files generated by [`frontity build`](build.md)

### Arguments

#### **`[options]`**

| Option | Description |
| :---: | :--- |
| `--port <port>` | Runs the server on a custom port. Default is 3000. </br> Related environment variable: [`FRONTITY_SERVE_PORT`](./environment-variables#FRONTITY_SERVE_PORT)|
| `-s`, `--https` | Runs the server using https. </br> Related environment variable: [`FRONTITY_SERVE_HTTPS`](./environment-variables#FRONTITY_SERVE_HTTPS) |
| `-h`, `--help` | Output usage information |

**Examples**

* Starts a server (using the code in the `build` folder generated by the `npx frontity build` command) using https and port 3002

```text
npx frontity serve --https --port 3002
```

---

### The `--publicPath` option

By default Frontity will look for static assets in the path `<YOUR-DOMAIN>/static`

With the `--publicPath` option you can change the path from where you are serving the statics assets (i.e. js chunk files, fonts, images, etc.)

The [public path is included in the generated files by webpack](https://webpack.js.org/guides/public-path/) and cannot be changed after that.

In case some people need to change it (because of constrains in their site architecture) they would need an option to do so just before generating the Frontity bundle with `npx frontity build`.

_Example:_

```text
npx frontity build --publicPath="/other/folder"
```